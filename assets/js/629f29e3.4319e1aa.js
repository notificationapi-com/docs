"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[620],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(n),m=i,f=c["".concat(s,".").concat(m)]||c[m]||d[m]||r;return n?a.createElement(f,o(o({ref:t},u),{},{components:n})):a.createElement(f,o({ref:t},u))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:i,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(7294),i=n(6010);const r={tabItem:"tabItem_Ymn6"};function o(e){let{children:t,hidden:n,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,i.Z)(r.tabItem,o),hidden:n},t)}},4866:(e,t,n)=>{n.d(t,{Z:()=>I});var a=n(7462),i=n(7294),r=n(6010),o=n(2466),l=n(6550),s=n(1980),p=n(7392),u=n(12);function c(e){return function(e){return i.Children.map(e,(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:i}}=e;return{value:t,label:n,attributes:a,default:i}}))}function d(e){const{values:t,children:n}=e;return(0,i.useMemo)((()=>{const e=t??c(n);return function(e){const t=(0,p.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:n}=e;const a=(0,l.k6)(),r=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s._X)(r),(0,i.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(a.location.search);t.set(r,e),a.replace({...a.location,search:t.toString()})}),[r,a])]}function k(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,r=d(e),[o,l]=(0,i.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:r}))),[s,p]=f({queryString:n,groupId:a}),[c,k]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,r]=(0,u.Nk)(n);return[a,(0,i.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:a}),h=(()=>{const e=s??c;return m({value:e,tabValues:r})?e:null})();(0,i.useLayoutEffect)((()=>{h&&l(h)}),[h]);return{selectedValue:o,selectValue:(0,i.useCallback)((e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),p(e),k(e)}),[p,k,r]),tabValues:r}}var h=n(2389);const N={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function g(e){let{className:t,block:n,selectedValue:l,selectValue:s,tabValues:p}=e;const u=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.o5)(),d=e=>{const t=e.currentTarget,n=u.indexOf(t),a=p[n].value;a!==l&&(c(t),s(a))},m=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=u.indexOf(e.currentTarget)+1;t=u[n]??u[0];break}case"ArrowLeft":{const n=u.indexOf(e.currentTarget)-1;t=u[n]??u[u.length-1];break}}t?.focus()};return i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},t)},p.map((e=>{let{value:t,label:n,attributes:o}=e;return i.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>u.push(e),onKeyDown:m,onClick:d},o,{className:(0,r.Z)("tabs__item",N.tabItem,o?.className,{"tabs__item--active":l===t})}),n??t)})))}function y(e){let{lazy:t,children:n,selectedValue:a}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===a));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return i.createElement("div",{className:"margin-top--md"},r.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function b(e){const t=k(e);return i.createElement("div",{className:(0,r.Z)("tabs-container",N.tabList)},i.createElement(g,(0,a.Z)({},e,t)),i.createElement(y,(0,a.Z)({},e,t)))}function I(e){const t=(0,h.Z)();return i.createElement(b,(0,a.Z)({key:String(t)},e))}},9433:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>f,frontMatter:()=>l,metadata:()=>p,toc:()=>c});var a=n(7462),i=(n(7294),n(3905)),r=n(4866),o=n(5162);const l={sidebar_position:2},s="JS Client SDK (Front-End)",p={unversionedId:"reference/js-client",id:"reference/js-client",title:"JS Client SDK (Front-End)",description:"The client-side SDK is mainly used for displaying In-App Notifications and allowing users to see and change their Notification Preferences.",source:"@site/docs/reference/js-client.md",sourceDirName:"reference",slug:"/reference/js-client",permalink:"/reference/js-client",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Server SDKs (Back-end)",permalink:"/reference/server"},next:{title:"iOS SDK (Front-End)",permalink:"/reference/ios-sdk"}},u={},c=[{value:"Setup &amp; Initialization",id:"setup--initialization",level:2},{value:"Parameters",id:"parameters",level:4},{value:"Framework Specific Gotcha&#39;s",id:"framework-specific-gotchas",level:2},{value:"Service Worker Setup",id:"service-worker-setup",level:2},{value:"getUserPreferences",id:"getuserpreferences",level:2},{value:"Response Example",id:"response-example",level:4},{value:"identify",id:"identify",level:2},{value:"patchUserPreference",id:"patchuserpreference",level:2},{value:"showInApp",id:"showinapp",level:2},{value:"Parameters",id:"parameters-1",level:4},{value:"showUserPreferences",id:"showuserpreferences",level:2},{value:"Parameters",id:"parameters-2",level:4},{value:"Parameters",id:"parameters-3",level:4},{value:"Frequently Asked Questions (FAQ)",id:"frequently-asked-questions-faq",level:2},{value:"Why Can I Not Send Notifications from a Front-end SDK?",id:"why-can-i-not-send-notifications-from-a-front-end-sdk",level:3}],d={toc:c},m="wrapper";function f(e){let{components:t,...l}=e;return(0,i.kt)(m,(0,a.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"js-client-sdk-front-end"},"JS Client SDK (Front-End)"),(0,i.kt)("p",null,"The client-side SDK is mainly used for displaying ",(0,i.kt)("strong",{parentName:"p"},"In-App Notifications")," and allowing users to see and change their ",(0,i.kt)("strong",{parentName:"p"},"Notification Preferences"),"."),(0,i.kt)("p",null,"Supported environments:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Vanilla JavaScript"),(0,i.kt)("li",{parentName:"ul"},"React"),(0,i.kt)("li",{parentName:"ul"},"Vue"),(0,i.kt)("li",{parentName:"ul"},"Angular"),(0,i.kt)("li",{parentName:"ul"},"Next"),(0,i.kt)("li",{parentName:"ul"},"Remix"),(0,i.kt)("li",{parentName:"ul"},"Most JS Frameworks, including those with server-side rendering, are supported. If you don't see your framework here, just ping us on support and we will add it to the docs!")),(0,i.kt)("h2",{id:"setup--initialization"},"Setup & Initialization"),(0,i.kt)(r.Z,{groupId:"package-manager",defaultValue:"manager",values:[{label:"Package Manager",value:"manager"},{label:"UMD",value:"umd"}],mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"manager",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="1. Install"',title:'"1.','Install"':!0},"npm install notificationapi-js-client-sdk\n# yarn add notificationapi-js-client-sdk\n# pnpm add notificationapi-js-client-sdk\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="2. Import"',title:'"2.','Import"':!0},"import NotificationAPI from 'notificationapi-js-client-sdk';\nimport 'notificationapi-js-client-sdk/dist/styles.css';\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="3. Initialize"',title:'"3.','Initialize"':!0},"const notificationapi = new NotificationAPI({\n  clientId: 'YOUR_CLIENT_ID',\n  userId: 'UNIQUE_USER_ID'\n});\n"))),(0,i.kt)(o.Z,{value:"umd",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="1. Add to HTML, before </head>"',title:'"1.',Add:!0,to:!0,"HTML,":!0,before:!0,'</head>"':!0},'<script src="https://unpkg.com/notificationapi-js-client-sdk@4.4.0/dist/notificationapi-js-client-sdk.js"><\/script>\n<link\n  href="https://unpkg.com/notificationapi-js-client-sdk/dist/styles.css"\n  rel="stylesheet"\n/>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="2. Initialize"',title:'"2.','Initialize"':!0},"const notificationapi = new NotificationAPI({\n  clientId: YOUR_CLIENT_ID,\n  userId: UNIQUE_USER_ID\n});\n")))),(0,i.kt)("h4",{id:"parameters"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"clientId","*"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"Your NotificationAPI account clientId. You can get it from ",(0,i.kt)("a",{parentName:"td",href:"https://app.notificationapi.com/environments"},"here"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"userId","*"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The unique ID of the user in your system.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"userIdHash"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"Only used for ",(0,i.kt)("a",{parentName:"td",href:"#secure-mode"},"Secure Mode"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"websocket"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"Only if you want to specify your region, for example, if your account is in Canada region you must pass 'wss://ws.ca.notificationapi.com'.")))),(0,i.kt)("h2",{id:"framework-specific-gotchas"},"Framework Specific Gotcha's"),(0,i.kt)(r.Z,{groupId:"frontend-language",defaultValue:"react",values:[{label:"React",value:"react"},{label:"Remix",value:"remix"},{label:"Vue",value:"vue"},{label:"Angular",value:"angular"},{label:"Next.js",value:"next14"},{label:"Next.js version<14",value:"next13"}],mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"react",mdxType:"TabItem"},(0,i.kt)("p",null,"To prevent unncessary rerenders and reinitialization of the SDK, use the ",(0,i.kt)("inlineCode",{parentName:"p"},"memo")," function:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import NotificationAPI from 'notificationapi-js-client-sdk';\nimport 'notificationapi-js-client-sdk/dist/styles.css';\nimport { PopupPosition } from 'notificationapi-js-client-sdk/lib/interfaces';\nimport { memo, useEffect } from 'react';\n\nconst NotificationAPIContainer = memo((props) => {\n  useEffect(() => {\n    const notificationapi = new NotificationAPI({\n      clientId: 'CLIENT_ID',\n      userId: props.userId\n    });\n    notificationapi.showInApp({\n      root: 'CONTAINER_DIV_ID',\n      popupPosition: PopupPosition.BottomLeft\n    });\n  }, [props.userId]);\n\n  return <div id=\"CONTAINER_DIV_ID\"></div>;\n});\nexport default NotificationAPIContainer;\n"))),(0,i.kt)(o.Z,{value:"next14",mdxType:"TabItem"},(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"'user client'")," is necessary to ensure that the code is executed on the client side. Also, to prevent unncessary rerenders and reinitialization of the SDK, use the ",(0,i.kt)("inlineCode",{parentName:"p"},"memo")," function."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"'use client';\n\nimport NotificationAPI from 'notificationapi-js-client-sdk';\nimport 'notificationapi-js-client-sdk/dist/styles.css';\nimport { PopupPosition } from 'notificationapi-js-client-sdk/lib/interfaces';\nimport React, { memo, useEffect } from 'react';\n\nconst NotificationAPIComponent = memo((props: { userId: string }) => {\n  useEffect(() => {\n    const notificationapi = new NotificationAPI({\n      clientId: 'CLIENT_ID',\n      userId: props.userId\n    });\n    notificationapi.showInApp({\n      root: 'container',\n      popupPosition: PopupPosition.BottomLeft\n    });\n  }, [props.userId]);\n\n  return <div id=\"container\"></div>;\n});\n\nexport default NotificationAPIComponent;\n"))),(0,i.kt)(o.Z,{value:"next13",mdxType:"TabItem"},(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"'user client'")," is necessary to ensure that the code is executed on the client side. Also, to prevent unncessary rerenders and reinitialization of the SDK, use the ",(0,i.kt)("inlineCode",{parentName:"p"},"memo")," function."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"'use client';\n\nimport 'notificationapi-js-client-sdk/dist/styles.css';\nimport { memo, useEffect } from 'react';\nconst NotificationAPIComponent = memo(() => {\n  useEffect(() => {\n    const loadNotificationAPI = async () => {\n      const NotificationAPI = (await import('notificationapi-js-client-sdk'))\n        .default;\n      const notificationapi = new NotificationAPI({\n        clientId: 'CLIENT_ID',\n        userId: 'USERS_ID'\n      });\n      notificationapi.showInApp({\n        root: 'CONTAINER_DIV_ID'\n      });\n    };\n\n    loadNotificationAPI();\n  }, []);\n\n  return <div id=\"CONTAINER_DIV_ID\"></div>;\n});\n\nNotificationAPIComponent.displayName = 'NotificationAPIComponent';\n\nexport default NotificationAPIComponent;\n"))),(0,i.kt)(o.Z,{value:"remix",mdxType:"TabItem"},(0,i.kt)("p",null,"a) Add the following to your remix.config.js:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"serverDependenciesToBundle: ['notificationapi-js-client-sdk'];\n\n// for more info, read: https://remix.run/docs/en/main/guides/gotchas#importing-esm-packages\n")),(0,i.kt)("p",null,"b) Add our CSS styles to your root component:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import NotificationAPICSS from 'notificationapi-js-client-sdk/dist/styles.css';\n\nexport const links: LinksFunction = () => {\n  return [\n    { rel: 'stylesheet', href: NotificationAPICSS }\n    // and the other links ...\n  ];\n};\n")),(0,i.kt)("p",null,"c) Import and use our library:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import NotificationAPIClient from 'notificationapi-js-client-sdk';\nimport { useEffect } from 'react';\n\nexport default function Index() {\n  useEffect(() => {\n    const notificationapi = new NotificationAPIClient({\n      clientId: 'CLIENT_ID',\n      userId: 'USER_ID'\n    });\n\n    notificationapi.showInApp({\n      root: 'bell-container'\n    });\n  }, []);\n\n  return (\n    <main>\n      <div id=\"bell-container\"></div>\n    </main>\n  );\n}\n"))),(0,i.kt)(o.Z,{value:"vue",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},"<script setup>\n  import NotificationAPI from 'notificationapi-js-client-sdk';\n  import 'notificationapi-js-client-sdk/dist/styles.css';\n  import { onMounted } from 'vue';\n  onMounted(() => {\n    const notificationapi = new NotificationAPI({\n      clientId: 'CLIENT_ID',\n      userId: 'USER_ID'\n    });\n\n    notificationapi.showInApp({\n      root: 'myNotifications'\n    });\n  });\n<\/script>\n\n<template>\n  <div>Hello World!</div>\n  <div id=\"myNotifications\"></div>\n</template>\n"))),(0,i.kt)(o.Z,{value:"angular",mdxType:"TabItem"},"a) Add our CSS to your styles.scss file:",(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"@import 'node_modules/notificationapi-js-client-sdk/dist/styles.css'\n")),(0,i.kt)("p",null,"b) Import and use our library:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import NotificationAPI from 'notificationapi-js-client-sdk';\nimport {PopupPosition} from 'notificationapi-js-client-sdk/lib/interfaces';\n\nngOnInit() {\n  const notificationapi = new NotificationAPI({\n      userId: \"USERS_ID\",\n      clientId: \"CLIENT_ID\",\n    });\n  notificationapi.showInApp({\n    root: 'bell-container', // root element containing the button\n    popupPosition: PopupPosition.BottomLeft\n  });\n}\n\n// This goes inside the template\n<div id=\"bell-container\"></div>\n")))),(0,i.kt)("h2",{id:"service-worker-setup"},"Service Worker Setup"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Only required for Web Push notifications:")),(0,i.kt)("p",null,"Download ",(0,i.kt)("a",{target:"_blank",href:n(6710).Z},"this file"),' and place it in the "public" folder of your web application. For example, if you are using react, the file should go in the ',(0,i.kt)("inlineCode",{parentName:"p"},"public")," folder."),(0,i.kt)("h2",{id:"getuserpreferences"},"getUserPreferences"),(0,i.kt)("p",null,"Returns the user's notification preferences."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"notificationapi.getUserPreferences().then((prefs) => {\n  console.log(prefs);\n});\n")),(0,i.kt)("h4",{id:"response-example"},"Response Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "notificationId": "new_order",\n    "title": "New Order",\n    "settings": [\n      {\n        "channel": "SMS",\n        "state": false,\n        "channelName": "SMS"\n      },\n      {\n        "channel": "EMAIL",\n        "state": true,\n        "channelName": "Email"\n      }\n    ]\n  }\n]\n')),(0,i.kt)("h2",{id:"identify"},"identify"),(0,i.kt)("p",null,"Stores the end-user information for a given user."),(0,i.kt)("p",null,"By using this function, you can omit the contact information when using ",(0,i.kt)("inlineCode",{parentName:"p"},"send()"),". NotificationAPI will automatically lookup the user's stored email or phone number and use it for sending the notification. Recommended to call ",(0,i.kt)("inlineCode",{parentName:"p"},"identify()")," every time the user signs, or upon signup and changing of the user contact info."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"notificationapi.identify({\n  id: 'testId',\n  email: 'spongebob@squarepants.com'\n});\n")),(0,i.kt)("h2",{id:"patchuserpreference"},"patchUserPreference"),(0,i.kt)("p",null,"Allows you update the user's notification preferences."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"notificationapi.patchUserPreference('order_tracking', 'EMAIL', false);\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Parameters")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"notificationId","*"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The ID of the notification in NotificationAPI.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"channel","*"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The channel for which you wish to change the setting. Accepted values: ",(0,i.kt)("br",null),(0,i.kt)("inlineCode",{parentName:"td"},"EMAIL"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"INAPP_WEB"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"SMS"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"CALL"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"PUSH"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"WEB_PUSH"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"state","*"),(0,i.kt)("td",{parentName:"tr",align:null},"boolean"),(0,i.kt)("td",{parentName:"tr",align:null},"The preference of the user. If set to false, the user will no longer receive the specified notification on the specified channel, until the state is set to true again through the API or the preferences popup.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"subNotificationId"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"Only when using ",(0,i.kt)("a",{parentName:"td",href:"../features/subnotifications"},"subNotificationIds"))))),(0,i.kt)("h2",{id:"showinapp"},"showInApp"),(0,i.kt)("p",null,"This function renders the in-app notifications widget on your front-end."),(0,i.kt)("p",null,"Complete guide: ",(0,i.kt)("a",{parentName:"p",href:"../components/inapp"},"In-App Notifications Widget")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"notificationapi.showInApp({\n  root: 'CONTAINER_DIV_ID'\n});\n")),(0,i.kt)("h4",{id:"parameters-1"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"root","*"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The ID of the HTML element that will contain the in-app widget. Ideally an empty div.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"inline"),(0,i.kt)("td",{parentName:"tr",align:null},"boolean"),(0,i.kt)("td",{parentName:"tr",align:null},"Default: false. By default, the showInApp() function will display a \ud83d\udd14 button. The in-app notifications are displayed in a popup when the button is clicked. With inline set to ",(0,i.kt)("inlineCode",{parentName:"td"},"true"),", the in-app notifications are displayed in the ",(0,i.kt)("inlineCode",{parentName:"td"},"root")," element without the popup.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"markAsReadMode"),(0,i.kt)("td",{parentName:"tr",align:null},"string (JS), MarkAsReadModes enum (TS)"),(0,i.kt)("td",{parentName:"tr",align:null},"Default: AUTOMATIC. In AUTOMATIC mode, in-app notifications are set to read when they are displayed to the user and the unread notification count is reset to 0. Switching to the ",(0,i.kt)("inlineCode",{parentName:"td"},"MANUAL"),' mode will not set notifications to read on display. Instead, the user can set notifications to read using an overall "Mark All As Read" button, or by using the individual "Mark as read" on each notification. The ',(0,i.kt)("inlineCode",{parentName:"td"},"MANUAL_AND_CLICK")," mode works similar to ",(0,i.kt)("inlineCode",{parentName:"td"},"MANUAL")," mode, but also sets notifications to read when user clicks the notification. Valid string options: AUTOMATIC, MANUAL, MANUAL_AND_CLICK")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"popupPosition"),(0,i.kt)("td",{parentName:"tr",align:null},"string (JS), PopupPosition enum (TS)"),(0,i.kt)("td",{parentName:"tr",align:null},"Default: rightBottom. The position of the notifications popup relative to the button.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"paginated"),(0,i.kt)("td",{parentName:"tr",align:null},"boolean"),(0,i.kt)("td",{parentName:"tr",align:null},"Default: false. By default, the in-app notifications are displayed in endless scrolling mode. Setting this field to ",(0,i.kt)("inlineCode",{parentName:"td"},"true")," will show in-app notifications in paginated mode with controls to change pages.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"pageSize"),(0,i.kt)("td",{parentName:"tr",align:null},"number"),(0,i.kt)("td",{parentName:"tr",align:null},"Default: 5. The number of in-app notifications per page. Only valid for ",(0,i.kt)("inlineCode",{parentName:"td"},"paginated")," mode.")))),(0,i.kt)("h2",{id:"showuserpreferences"},"showUserPreferences"),(0,i.kt)("p",null,"This function renders the user preferences widget on your front-end."),(0,i.kt)("p",null,"Complete guide: ",(0,i.kt)("a",{parentName:"p",href:"../components/user-preferences"},"User Preferences Widget")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"notificationapi.showUserPreferences();\n")),(0,i.kt)("h4",{id:"parameters-2"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"parent"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"When undefined (default behavior), the user preferences will show as a modal. Given this parameter, the user preferences will render in inline mode inside an existing HTML element on your page. You can pass the ID of the parent element to this parameter. Ideally, use an empty div for the parent.")))),(0,i.kt)("h4",{id:"parameters-3"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"id","*"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The unique ID of the user in your system.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"email"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The email of the user.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"phone"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The phone number of the user. Expected format: +15554443333.")))),(0,i.kt)("h2",{id:"frequently-asked-questions-faq"},"Frequently Asked Questions (FAQ)"),(0,i.kt)("h3",{id:"why-can-i-not-send-notifications-from-a-front-end-sdk"},"Why Can I Not Send Notifications from a Front-end SDK?"),(0,i.kt)("p",null,"NotificationAPI back-end SDKs require your ",(0,i.kt)("inlineCode",{parentName:"p"},"clientId")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"clientSecret")," keys that are unique to your account. If anyone else obtained your keys then they would be able to edit or delete your notifications, and be able to send requests to NotificationAPI from your account. This is a security risk to you and your clients."),(0,i.kt)("p",null,"To better protect you, the NotificationAPI front-end SDKs do not allow ",(0,i.kt)("em",{parentName:"p"},"sending")," notifications: they only allow ",(0,i.kt)("em",{parentName:"p"},"receiving")," notifications. If you require sending notifications from your front-end, it is recommended to use a NotificationAPI back-end SDK on your back-end and expose an API for your front-end."))}f.isMDXComponent=!0},6710:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/files/notificationapi-service-worker-0697cc83d566c337f10fdfafdd4c765b.js"}}]);