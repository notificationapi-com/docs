(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[620],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return m}});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),p=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,f=d["".concat(l,".").concat(m)]||d[m]||u[m]||r;return n?i.createElement(f,o(o({ref:t},c),{},{components:n})):i.createElement(f,o({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var p=2;p<r;p++)o[p]=n[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8215:function(e,t,n){"use strict";var i=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,a=e.className;return i.createElement("div",{role:"tabpanel",hidden:n,className:a},t)}},1395:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(7294),a=n(944),r=n(6010),o="tabItem_1uMI",s="tabItemActive_2DSg";var l=37,p=39;var c=function(e){var t=e.lazy,n=e.block,c=e.defaultValue,u=e.values,d=e.groupId,m=e.className,f=(0,a.Z)(),h=f.tabGroupChoices,k=f.setTabGroupChoices,g=(0,i.useState)(c),N=g[0],y=g[1],v=i.Children.toArray(e.children),b=[];if(null!=d){var I=h[d];null!=I&&I!==N&&u.some((function(e){return e.value===I}))&&y(I)}var w=function(e){var t=e.currentTarget,n=b.indexOf(t),i=u[n].value;y(i),null!=d&&(k(d,i),setTimeout((function(){var e,n,i,a,r,o,l,p;(e=t.getBoundingClientRect(),n=e.top,i=e.left,a=e.bottom,r=e.right,o=window,l=o.innerHeight,p=o.innerWidth,n>=0&&r<=p&&a<=l&&i>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(s),setTimeout((function(){return t.classList.remove(s)}),2e3))}),150))},P=function(e){var t,n;switch(e.keyCode){case p:var i=b.indexOf(e.target)+1;n=b[i]||b[0];break;case l:var a=b.indexOf(e.target)-1;n=b[a]||b[b.length-1]}null==(t=n)||t.focus()};return i.createElement("div",{className:"tabs-container"},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},m)},u.map((function(e){var t=e.value,n=e.label;return i.createElement("li",{role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,className:(0,r.Z)("tabs__item",o,{"tabs__item--active":N===t}),key:t,ref:function(e){return b.push(e)},onKeyDown:P,onFocus:w,onClick:w},n)}))),t?(0,i.cloneElement)(v.filter((function(e){return e.props.value===N}))[0],{className:"margin-vert--md"}):i.createElement("div",{className:"margin-vert--md"},v.map((function(e,t){return(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==N})}))))}},9443:function(e,t,n){"use strict";var i=(0,n(7294).createContext)(void 0);t.Z=i},944:function(e,t,n){"use strict";var i=n(7294),a=n(9443);t.Z=function(){var e=(0,i.useContext)(a.Z);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},9375:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N},frontMatter:function(){return f},metadata:function(){return h},toc:function(){return k}});var i=n(2122),a=n(9756),r=(n(7294),n(3905)),o=n(1395),s=n(8215),l=n(453),p=n.p+"assets/images/inline-9e74e159870d4f902700df64eff19c7e.png",c=n.p+"assets/images/manualread-75a66557483ec6e398bdb5dee9d60001.gif",u=n.p+"assets/images/paginated-93569a1421dc37f13be095fbf2bc863b.gif",d=n(960),m=["components"],f={sidebar_position:2},h={unversionedId:"reference/js-client",id:"reference/js-client",isDocsHomePage:!1,title:"JS Client SDK (Front-End)",description:"The client-side SDK is mainly used for displaying In-App Notifications and allowing users to see and change their Notification Preferences.",source:"@site/docs/reference/js-client.md",sourceDirName:"reference",slug:"/reference/js-client",permalink:"/reference/js-client",editUrl:"https://github.com/notificationapi-com/docs/edit/main/docs/reference/js-client.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Server SDKs (Back-end)",permalink:"/reference/server"}},k=[{value:"Setup",id:"setup",children:[]},{value:"Your First Example",id:"your-first-example",children:[]},{value:"Initialization",id:"initialization",children:[]},{value:"getUserPreferences()",id:"getuserpreferences",children:[]},{value:"patchUserPreference()",id:"patchuserpreference",children:[]},{value:"showInApp()",id:"showinapp",children:[]},{value:"showUserPreferences()",id:"showuserpreferences",children:[]},{value:"React.js",id:"reactjs",children:[]},{value:"Vue.js",id:"vuejs",children:[]},{value:"Secure Mode",id:"secure-mode",children:[]}],g={toc:k};function N(e){var t=e.components,n=(0,a.Z)(e,m);return(0,r.kt)("wrapper",(0,i.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The client-side SDK is mainly used for displaying ",(0,r.kt)("strong",{parentName:"p"},"In-App Notifications")," and allowing users to see and change their ",(0,r.kt)("strong",{parentName:"p"},"Notification Preferences"),"."),(0,r.kt)("p",null,"Supported environments:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Vanilla JavaScript"),(0,r.kt)("li",{parentName:"ul"},"React.js"),(0,r.kt)("li",{parentName:"ul"},"Vue.js"),(0,r.kt)("li",{parentName:"ul"},"Angular.js"),(0,r.kt)("li",{parentName:"ul"},"Next.js"),(0,r.kt)("li",{parentName:"ul"},"Any other JS-based framework, including server-side rendering")),(0,r.kt)("h2",{id:"setup"},"Setup"),(0,r.kt)(o.Z,{groupId:"js-package-manager",defaultValue:"npm/yarn",values:[{label:"npm/yarn",value:"npm/yarn"},{label:"<script>",value:"<script>"}],mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"npm/yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="1. Install"',title:'"1.','Install"':!0},"npm install notificationapi-js-client-sdk\nyarn add notificationapi-js-client-sdk\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="2. Import"',title:'"2.','Import"':!0},"import NotificationAPI from 'notificationapi-js-client-sdk';\nimport 'notificationapi-js-client-sdk/dist/styles.css';\n"))),(0,r.kt)(s.Z,{value:"<script>",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<script src="https://unpkg.com/notificationapi-js-client-sdk/dist/notificationapi-js-client-sdk.js"><\/script>\n<link\n  href="https://unpkg.com/notificationapi-js-client-sdk/dist/styles.css"\n  rel="stylesheet"\n/>\n')))),(0,r.kt)("h2",{id:"your-first-example"},"Your First Example"),(0,r.kt)("h2",{id:"initialization"},"Initialization"),(0,r.kt)("p",null,"The example below creates a NotificationAPI client that connects to our servers through a WebSocket connection from your front-end. It does not show anything yet."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example"',title:'"Example"'},"const notificationapi = new NotificationAPI({\n  clientId: YOUR_CLIENT_ID,\n  userId: UNIQUE_USER_ID\n});\n")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Initializing the library more than once is safe, but will generate unnecessary resources and network calls."),(0,r.kt)("p",{parentName:"div"},"React users should follow the ",(0,r.kt)("a",{parentName:"p",href:"#reactjs"},"React section"),"."))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters:")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"clientId")," (required)",(0,r.kt)("br",{parentName:"p"}),"\n","Type: string"),(0,r.kt)("p",null,"Your NotificationAPI account clientId. You can get it from ",(0,r.kt)("a",{parentName:"p",href:"https://app.notificationapi.com/environments"},"here"),"."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"userId")," (required)",(0,r.kt)("br",{parentName:"p"}),"\n","Type: string"),(0,r.kt)("p",null,"The unique ID of the user in your system."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"userIdHash"),"\nType: string"),(0,r.kt)("p",null,"Only used for ",(0,r.kt)("a",{parentName:"p",href:"#secure-mode"},"Secure Mode"),"."),(0,r.kt)("h2",{id:"getuserpreferences"},"getUserPreferences()"),(0,r.kt)("p",null,"Allows you to access the raw data of the user's notification preferences from the front-end."),(0,r.kt)("p",null,"Please note that unless you require extreme customization, you can rely on ",(0,r.kt)("a",{parentName:"p",href:"#showuserpreferences"},"showUserPreferences()")," function to display and edit notification preferences without any additional code."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example"',title:'"Example"'},'notificationapi.getUserPreferences().then((prefs) => {\n  console.log(prefs);\n});\n\n/* prints:\n[\n  {\n      "notificationId": "new_order",\n      "title": "New Order",\n      "settings": [\n          {\n              "channel": "SMS",\n              "state": false,\n              "channelName": "SMS"\n          },\n          {\n              "channel": "EMAIL",\n              "state": true,\n              "channelName": "Email"\n          }\n      ],\n      "subNotificationPreferences": []\n  },\n  ... more items for all notifications\n] */\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"getUserPreferences() : Promise<Preference[]>\n\ninterface Preference {\n  notificationId: string;\n  title: string; // the friendly title of the notification\n  settings: {\n    channel: string; // EMAIL, INAPP_WEB, SMS, CALL\n    channelName: string; // channel friendly name: Email, In-App, SMS, Call\n    state: boolean; // indicating the preference\n  }[];\n  subNotificationPreferences: Preference[]; // when using subNotificationIds, it will contain a similar item for each subNotificationId\n}\n")),(0,r.kt)("h2",{id:"patchuserpreference"},"patchUserPreference()"),(0,r.kt)("p",null,"Allows you to programmatically change the user's notification preferences from the front-end."),(0,r.kt)("p",null,"Please note that unless you require extreme customization, you can rely on ",(0,r.kt)("a",{parentName:"p",href:"#showuserpreferences"},"showUserPreferences()")," function to display and edit notification preferences without any additional code."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example"',title:'"Example"'},"notificationapi.patchUserPreference('myNotificationId', 'EMAIL', false);\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"notificationId")," (required)",(0,r.kt)("br",{parentName:"p"}),"\n","Type: string"),(0,r.kt)("p",null,"The ID of the notification in NotificationAPI."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"channel")," (required)",(0,r.kt)("br",{parentName:"p"}),"\n","Type: string"),(0,r.kt)("p",null,"The channel for which you wish to change the setting.",(0,r.kt)("br",{parentName:"p"}),"\n","Accepted values: ",(0,r.kt)("inlineCode",{parentName:"p"},"EMAIL"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"INAPP_WEB"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"SMS"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"CALL"),"."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"state")," (required)",(0,r.kt)("br",{parentName:"p"}),"\n","Type: boolean"),(0,r.kt)("p",null,"The preference of the user. If set to false, the user will no longer receive the specified notification on the specified channel, until the state is set to true again through the API or the preferences popup."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"subNotificationId")," (optional)",(0,r.kt)("br",{parentName:"p"}),"\n","Type: string"),(0,r.kt)("p",null,"For setting the preference of a subNotificationId within a notification."),(0,r.kt)("h2",{id:"showinapp"},"showInApp()"),(0,r.kt)("img",{src:l.Z}),(0,r.kt)("p",null,"This function adds the in-app notifications (the bell icon along with all its functionality) to your app."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example"',title:'"Example"'},"notificationapi.showInApp({\n  root: 'parentDivID'\n});\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("h5",{id:"root-required"},(0,r.kt)("inlineCode",{parentName:"h5"},"root")," (required)"),(0,r.kt)("p",null,"Type: string"),(0,r.kt)("p",null,"The ID of the HTML element that will contain the NotificationAPI widget. Ideally an empty div."),(0,r.kt)("h5",{id:"inline"},(0,r.kt)("inlineCode",{parentName:"h5"},"inline")),(0,r.kt)("p",null,"Type: boolean"),(0,r.kt)("p",null,"Default: false"),(0,r.kt)("p",null,"By default, the showInApp() function will display a \ud83d\udd14 button. The in-app notifications are displayed in a popup when the button is clicked. With inline set to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),", the in-app notifications are displayed in the ",(0,r.kt)("inlineCode",{parentName:"p"},"root")," element without the popup."),(0,r.kt)("p",null,"Preview:"),(0,r.kt)("img",{src:p,width:"400"}),(0,r.kt)("h5",{id:"markasreadmode"},(0,r.kt)("inlineCode",{parentName:"h5"},"markAsReadMode")),(0,r.kt)("p",null,"Type: string (JS), MarkAsReadModes enum (TS)"),(0,r.kt)("p",null,"Default: AUTOMATIC"),(0,r.kt)("p",null,"By default, in-app notifications are set to read when they are displayed to the user and the unread notification count is reset to 0. Switching to the ",(0,r.kt)("inlineCode",{parentName:"p"},"MANUAL"),' mode will not set notifications to read on display. Instead, the user can set notifications to read using an overall "Mark All As Read" button and a "Mark as read" for each notification.'),(0,r.kt)("p",null,"Valid string options: AUTOMATIC, MANUAL"),(0,r.kt)("p",null,"Preview:"),(0,r.kt)("img",{src:c,width:"400"}),(0,r.kt)("h5",{id:"popupposition"},(0,r.kt)("inlineCode",{parentName:"h5"},"popupPosition")),(0,r.kt)("p",null,"Type: string (JS), PopupPosition enum (TS)"),(0,r.kt)("p",null,"Default: rightBottom"),(0,r.kt)("p",null,"The position of the notifications popup relative to the button."),(0,r.kt)("p",null,"Valid string options: topLeft, topRight, bottomLeft, bottomRight, leftTop, leftBottom, rightTop, rightBottom."),(0,r.kt)("h5",{id:"paginated"},(0,r.kt)("inlineCode",{parentName:"h5"},"paginated")),(0,r.kt)("p",null,"Type: boolean"),(0,r.kt)("p",null,"Default: false"),(0,r.kt)("p",null,"By default, the in-app notifications are displayed in endless scrolling mode. Setting this field to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," will show in-app notifications in paginated mode with controls to change pages."),(0,r.kt)("p",null,"Preview:"),(0,r.kt)("img",{src:u,width:"400"}),(0,r.kt)("h5",{id:"pagesize"},(0,r.kt)("inlineCode",{parentName:"h5"},"pageSize")),(0,r.kt)("p",null,"Type: number"),(0,r.kt)("p",null,"Default: 5"),(0,r.kt)("p",null,"The number of in-app notifications per page. Only valid for ",(0,r.kt)("inlineCode",{parentName:"p"},"paginated")," mode."),(0,r.kt)("h2",{id:"showuserpreferences"},"showUserPreferences()"),(0,r.kt)("p",null,"User preferences is accessible from the in-app popup (similar to the gif below). However, you may use this function to programmatically open the user preferences from your code."),(0,r.kt)("img",{src:d.Z}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example"',title:'"Example"'},"notificationapi.showUserPreferences();\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"parent"),(0,r.kt)("br",{parentName:"p"}),"\n","Type: string",(0,r.kt)("br",{parentName:"p"}),"\n","Default: undefined"),(0,r.kt)("p",null,"When undefined (default behavior), the user preferences will show as a modal. Given this parameter, the user preferences will render in inline mode inside an existing HTML element on your page. You can pass the ID of the parent element to this parameter. Ideally, use an empty div for the parent."),(0,r.kt)("h2",{id:"reactjs"},"React.js"),(0,r.kt)("p",null,'React\'s state management and re-rendering causes this widget to be destroyed and re-initialized with every state change. To avoid this issue, place the initialization and the root element in a "memo"-ized React component. Example:'),(0,r.kt)(o.Z,{defaultValue:"NotificationAPIComponent.js",values:[{label:"NotificationAPIComponent.js",value:"NotificationAPIComponent.js"},{label:"App.js",value:"App.js"}],mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"NotificationAPIComponent.js",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import NotificationAPI from 'notificationapi-js-client-sdk';\nimport 'notificationapi-js-client-sdk/dist/styles.css';\nimport { PopupPosition } from 'notificationapi-js-client-sdk/lib/interfaces';\nimport React, { memo, useEffect, useRef } from 'react';\n\nconst NotificationAPIComponent = memo((props) => {\n  const containerRef = useRef();\n\n  useEffect(() => {\n    const notificationapi = new NotificationAPI({\n      clientId: YOUR_CLIENT_ID,\n      userId: props.userId\n    });\n    notificationapi.showInApp({\n      root: 'container',\n      popupPosition: PopupPosition.BottomLeft\n    });\n\n    // Store a reference to the container DOM element.\n    const container = containerRef.current;\n    // This effect can run multiple times due to the `userId` changing\n    // or Hot Module Replacement (HMR). Ensure the container is cleared\n    // as `showInApp` will append to the container instead of overwriting it.\n    return () => {\n      container.innerHTML = '';\n    };\n  }, [props.userId]);\n\n  return <div id=\"container\" ref={containerRef}></div>;\n});\n\nexport default NotificationAPIComponent;\n"))),(0,r.kt)(s.Z,{value:"App.js",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import NotificationAPIComponent from './NotificationAPIComponent';\n\nfunction App() {\n  return (\n    <div>\n      <NotificationAPIComponent userId=\"USER_ID\" />\n      <div> ... </div>\n    </div>\n  );\n}\n\nexport default App;\n")))),(0,r.kt)("h2",{id:"vuejs"},"Vue.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},"<script setup>\n  import NotificationAPI from 'notificationapi-js-client-sdk';\n  import 'notificationapi-js-client-sdk/dist/styles.css';\n  import { onMounted } from 'vue';\n  onMounted(() => {\n    const notificationapi = new NotificationAPI({\n      clientId: 'CLIENT_ID',\n      userId: 'USER_ID'\n    });\n\n    notificationapi.showInApp({\n      root: 'myNotifications'\n    });\n  });\n<\/script>\n\n<template>\n  <div>Hello World!</div>\n  <div id=\"myNotifications\"></div>\n</template>\n")),(0,r.kt)("h2",{id:"secure-mode"},"Secure Mode"),(0,r.kt)("p",null,"Front-end code is observable and mutable by end-users. Malicious actors can take advantage of this. For example, someone can impersonate another user on your website's chat tool or NotificationAPI by passing different parameters to the library. Secure Mode makes our front-end SDK safe against this threat."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step by Step Guide")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Back-end: hash the userId using your client secret. Pass the hashed userId to your front-end. For example, from an API right after the page loads.")),(0,r.kt)(o.Z,{defaultValue:"Node.js",values:[{label:"Node.js",value:"Node.js"},{label:"Python",value:"Python"}],mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"Node.js",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"const hashedUserId = require('crypto') // crypto is part of nodejs\n  .createHmac('sha256', 'YOUR_CLIENT_SECRET')\n  .update('ACTUAL_USER_ID')\n  .digest('base64');\n"))),(0,r.kt)(s.Z,{value:"Python",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-py"},"import hmac\nimport hashlib\nimport base64\nhashedUserId = base64.b64encode(hmac.new( 'YOUR_CLIENT_SECRET'.encode('utf-8'),\n            'ACTUAL_USER_ID'.encode('utf-8'),\n             hashlib.sha256).digest())\n")))),"2. Front-end: pass the hashed userId to the NotificationAPI SDK:",(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"new NotificationAPI({\n  root: '...',\n  clientId: '...',\n  userId: 'ACTUAL_USER_ID',\n  userIdHash: 'HASHED_USER_ID'\n});\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Enable secure mode in your account settings. When our SDK starts, it sends both the userId and hashed userId to our servers and we compare the values to ensure the userId and its hash match, indicating userId has not been tampered.")))}N.isMDXComponent=!0},6010:function(e,t,n){"use strict";function i(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(a&&(a+=" "),a+=t);return a}n.d(t,{Z:function(){return a}})},453:function(e,t,n){"use strict";t.Z=n.p+"assets/images/inapp-2351be43133824c90d83c71767223d44.gif"},960:function(e,t,n){"use strict";t.Z=n.p+"assets/images/userpref-5ebda40a7b681b452100fa75c31c9942.gif"}}]);